!function(e,t){"use strict";"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t:e.please=t(e)}(this,function(e){"use strict";var t={},r=function(e){var t;try{t=JSON.parse(e.responseText)}catch(r){t=e.responseText}return{data:t,request:e}},o=function(t,o,n,s){var a,i={fileForm:s.fileForm||!1,promise:s.promise||!1,success:s.success||function(){},error:s.error||function(){},loadstart:s.loadstart||function(){},progress:s.progress||function(){},load:s.load||function(){}},c="string"==typeof n,u=!1;if(c)try{u=!!JSON.parse(n)}catch(d){u=!1}if(i.fileForm&&c){var f=document.createElement("iframe");a={readyState:!1,status:!1,onload:function(){},onerror:function(){},send:function(){f.style.display="none",f.name=f.id="iframe"+Math.ceil(1e5*Math.random()).toString(),document.body.appendChild(f),f.addEventListener("load",function(){var e=this.responseText=f.contentDocument.body.innerHTML;e.toString().match(/^20\d\b/)?(this.readyState=4,this.status=200,i.success(),this.onload()):(i.error(),this.onerror()),document.body.removeChild(f),i.fileForm.action=i.fileForm.action.slice(i.fileForm.action.search(/\?ie9/),4)}.bind(this)),i.fileForm.action.search(/\?ie9/)<0&&(i.fileForm.action=i.fileForm.action?i.fileForm.action+"?ie9":"?ie9"),i.fileForm.target=f.id,i.fileForm.submit(),i.loadstart()}}}else{var l=e.XMLHttpRequest||ActiveXObject;a=new l("MSXML2.XMLHTTP.3.0"),a.open(t,o,!0),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),c&&(u?a.setRequestHeader("Content-type","application/json; charset=utf-8"):a.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=utf-8")),a.upload&&(a.upload.addEventListener("loadstart",i.loadstart,!1),a.upload.addEventListener("progress",i.progress,!1),a.upload.addEventListener("load",i.load,!1)),a.onreadystatechange=function(){4===a.readyState&&(a.status>=200&&a.status<300?i.success(r(a)):i.error(r(a)))}}return e.Promise&&i.promise?new Promise(function(e,t){a.onload=function(){a.status>=200&&a.status<300?e(a.response):t(Error(a.statusText))},a.onerror=function(){t(Error("Network Error"))},a.send(n)}):(a.send(n),a)};return t.get=function(e,t){var r=t||{};return o("GET",e,!1,r)},t.put=function(e,t,r){var n=r||{};return o("PUT",e,t,n)},t.post=function(e,t,r){var n=r||{};return o("POST",e,t,n)},t.del=t["delete"]=function(e,t){var r=t||{};return o("DELETE",e,!1,r)},t});